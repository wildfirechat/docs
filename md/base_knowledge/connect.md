# 连接

#### 连接
连接之前需要先获取token。调用connect之后，SDK会自动处理断网重连/网络切换/前后台切换等逻辑。应用只需要实现网络状态的回调，反映出当前的状态即可。断开连接需要```clearSession```参数，```true```会清理掉session，应用不会收到推送。```false```会保留当前session，应用会收到推送。

连接流程请参考[登陆](../architecture/index.html#登陆)

#### 异步调用与回调
connect函数没有回调函数，只能通过连接回调来判断连接状态。调用connect后，数据库立即可用。连接状态一般情况下只需要展示给用户即可，但有部分状态需要干预，比如token过期或者错误，用户被封禁等。
